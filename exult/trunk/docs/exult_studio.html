<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!--This file is automatically generated. Do not edit!--><head><title>Exult Studio Documentation </title><meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" /></head><body background="images/back.gif" alink="#ffcc33" vlink="#669966" link="#666699" text="#333366" bgcolor="#cccccc"><div align="center"><table width="90%" cellspacing="0" cellpadding="0" border="0"><tr><td align="center"><table width="100%" cellspacing="0" cellpadding="0" border="0"><tr><td align="center"><img alt="Exult Logo" height="127" width="181" src="images/exult_logo.gif" /></td></tr><tr><td>&nbsp;</td></tr><tr><td>&nbsp;</td></tr></table></td></tr><tr><td><h1>Exult Studio Documentation </h1><p>last changed: 19 May 2002(GMT)</p><hr /><p>
							The latest version of this document can be found <a href="http://exult.sourceforge.net/studio.php">here</a></p><br /><p><a href="#Changes to the Documentation">0. Changes to the Documentation</a><br /><a href="#19052002">0.1. 19 May 2002</a><br /><a href="#06052002">0.2. 06 May 2002</a><br /><a href="#03052002">0.3. 03 May 2002</a><br /><a href="#07042002">0.4. 07 April 2002</a><br /></p><p><a href="#Introduction">1. Introduction</a><br /><a href="#whatis_studio">1.1. What is <em>Exult Studio</em>?</a><br /><a href="#about_doc">1.2. About this Documentation.</a><br /><a href="#studio_terms">1.3. Terms we use in regard to Exult and Ultima 7</a><br /></p><p><a href="#Configurations">2. Configurations</a><br /><a href="#installation">2.1. Installation</a><br /><a href="#studio_run">2.2. Running <em>Exult Studio</em></a><br /><a href="#studio_cfg">2.3. Settings in exult.cfg.</a><br /><a href="#command_line">2.4. Command line options</a><br /></p><p><a href="#Menu Options">3. Menu Options</a><br /><a href="#file_menu">3.1. File</a><br /><a href="#objects_menu">3.2. Objects</a><br /><a href="#mode_menu">3.3. Mode</a><br /><a href="#tools_menu">3.4. Tools</a><br /><a href="#tool_bar">3.5. Tool bar</a><br /></p><p><a href="#Main Working Window">4. Main Working Window</a><br /><a href="#description">4.1. Description</a><br /><a href="#shape_files">4.2. Shape files</a><br /><a href="#map_files">4.3. Map files</a><br /><a href="#palettes_files">4.4. Palettes files</a><br /><a href="#groups_files">4.5. Groups files</a><br /></p><p><a href="#Editing a Game">5. Editing a Game</a><br /><a href="#can_do_atm">5.1. What you can do at the moment</a><br /><a href="#shape_edit">5.2. The shape editor</a><br /><a href="#egg_edit">5.3. Creating/editing Eggs</a><br /><a href="#npc_edit">5.4. Creating/editing NPCs</a><br /><a href="#combo_edit">5.5. Creating Combination files</a><br /><a href="#usecode_edit">5.6. Custom Usecode</a><br /></p><p><a href="#Miscellaneous">6. Miscellaneous</a><br /><a href="#tools">6.1. Other tools that might be useful</a><br /><a href="#port_platforms">6.2. Porting <em>Exult Studio</em> to other platforms</a><br /><a href="#client_server_stuff">6.3. About this client/server stuff?</a><br /><a href="#terrain_stuff">6.4. About this 'terrain-editing' stuff and why you can't just
  					drag objects to where you want.</a><br /><a href="#what_next">6.5. What's next?</a><br /></p><p><a href="#Credits">7. Credits</a><br /><a href="#thanks">7.1. Thanks</a><br /></p><hr width="100%" /><table width="100%"><tr><th align="left"><a name="Changes to the Documentation">0. Changes to the Documentation</a></th></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="19052002">0.1. 19 May 2002</a></strong></td></tr><tr><td>
				<ul>
					<li><a href="#about_doc">1.2. About this Documentation.</a> Some notes for the reader.</li>
					<li><a href="#mode_menu">3.3. Mode</a> Select-mode is now implemented and added a note 
						about dragging.</li>
						<li><a href="#tool_bar">3.5. Tool bar</a> added "Hide lift" option.</li>
					<li><a href="#shape_edit">5.2. The shape editor</a> "New Shape" also lets you add a font shape.</li>
					<li><a href="#combo_edit">5.5. Creating Combination files</a> Combinations now do work fully.</li>
				</ul>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="06052002">0.2. 06 May 2002</a></strong></td></tr><tr><td>
				<ul>
					<li><a href="#command_line">2.4. Command line options</a> -d option no longer exists.</li>
					<li><a href="#mode_menu">3.3. Mode</a> more information on Pick- and Combo-mode.</li>
					<li><a href="#Main Working Window">4. Main Working Window</a> added (working title only).</li>
					<li><a href="#can_do_atm">5.1. What you can do at the moment</a> shift-clicking adds currently selected shape in 
						any mode.</li>
					<li><a href="#combo_edit">5.5. Creating Combination files</a> when it gets saved combos.flx gets used.</li>
				</ul>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="03052002">0.3. 03 May 2002</a></strong></td></tr><tr><td>
				<p>
					This is the second draft of the <em>Exult Studio</em> documentation. 					
				</p>
				<ul>
					<li><a href="#command_line">2.4. Command line options</a> I had spaces between the commands and the options.</li>
					<li><a href="#Menu Options">3. Menu Options</a> description of all the Menu Options.</li>
					<li><a href="#can_do_atm">5.1. What you can do at the moment</a> added warning on editing terrains.</li>
					<li><a href="#egg_edit">5.3. Creating/editing Eggs</a> added place holder for actual documentation.</li>
					<li><a href="#npc_edit">5.4. Creating/editing NPCs</a> added place holder for actual documentation.</li>
					<li><a href="#combo_edit">5.5. Creating Combination files</a> the latest addition.</li>
					<li><a href="#usecode_edit">5.6. Custom Usecode</a> link to latest patch and link to Pertex'
						documentation.</li>
					<li><a href="#what_next">6.5. What's next?</a> 'scratched' the stuff I think got implemented.</li>
				</ul>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="07042002">0.4. 07 April 2002</a></strong></td></tr><tr><td>
				<p>
					This is the first draft of the <em>Exult Studio</em> documentation. So please bear with me. It
					is by no means perfect and I ask you to send me all your comments on how to better
					express some stuff or to point out what I just plain forgot. 
					<a href="mailto:gigdr@tesionmail.de">Dominus</a>
				</p>
			</td></tr></table><hr width="100%" /><table width="100%"><tr><th align="left"><a name="Introduction">1. Introduction</a></th></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="whatis_studio">1.1. What is <em>Exult Studio</em>?</a></strong></td></tr><tr><td>
				<p>
					<em>Exult</em> is not only capable of playing Ultima 7 but it is also intended as
					an engine in the style of the one used by Ultima 7. <em>Exult Studio</em> started it's life
					as a simple map editor but it is slowly developing into a full fledged editor
					enabling users to create a new game. Tristan came up with the cool name!
				</p>
				<p>
					Currently there are many steps required to create a new game but at the moment 
					the main goal of Jeff is to make it as user-friendly as possible.
				</p>
				<p>
					Editing a copyrighted game may or may not be allowed. Please exercise caution especially
					if you want to distribute your changes.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="about_doc">1.2. About this Documentation.</a></strong></td></tr><tr><td>
				<p>
					<em>Exult Studio</em> is work in progress. How things work may change and new features are
					added very frequently. Due to the lazy nature of the maintainer (Dominus) of this
					documentation it might not always be up to date. As we do not have an official 
					release yet this documentation refers to recent snapshots.
				</p>
				<p>
				Note that you also need an up to date (aka recent snapshot) version of <em>Exult</em> to
				have <em>Exult Studio</em> working properly.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="studio_terms">1.3. Terms we use in regard to Exult and Ultima 7</a></strong></td></tr><tr><td>
				<p>
					Along with the terms explained in <a href="&#10;				ReadMe.html#&#10;			terms">ReadMe</a> there are
					some more terms that need to be explained for the usage of <em>Exult Studio</em>
				</p>
				<ul>
					<li><strong>tile</strong>:<br />
						8x8 pixels</li>
					<li><strong>chunk</strong>:<br />
						16x16 tiles</li>
					<li><strong>superchunk</strong>:<br />
						16x16 chunks</li>
					<li><strong>world</strong>:<br />
						12x12 superchunks</li>
				</ul>
			</td></tr></table><hr width="100%" /><table width="100%"><tr><th align="left"><a name="Configurations">2. Configurations</a></th></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="installation">2.1. Installation</a></strong></td></tr><tr><td>
				<ul>
					<li>You need <em>Exult</em> and you need to install it properly 
						(see <a href="&#10;				ReadMe.html#&#10;			installation">ReadMe</a>)</li>
					<li>For U*ix platforms you need to build <em>Exult Studio</em> from the source avillable from our 
						source snapshot at <a href="http://exult.sourceforge.net/download.php">http://exult.sourceforge.net/download.php</a>.<br />
						You will also need the GTK+ library installed as well as
				<a href="http://developer.gnome.org/doc/API/libglade/libglade.html">libglade</a>.<br /></li>
					<li>For Win32 platforms (Win9x,ME,2k,XP) you need to download 
						<a href="http://exult.sourceforge.net/snapshots/ExultStudio.exe">http://exult.sourceforge.net/snapshots/ExultStudio.exe</a>
						and install it in the same directory where you installed <em>Exult</em>.</li>
				</ul>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="studio_run">2.2. Running <em>Exult Studio</em></a></strong></td></tr><tr><td>
				<p>
					You can run <em>Exult Studio</em> all by itself, but it isn't useful that way,
					as it uses <em>Exult</em> as a server.  What you really want to do is:
				</p>
				<ul>
   				<li>Put 'exult_studio.glade' in the <em>Exult</em> 'data' directory.</li>
   				<li>Be sure 'exult_studio' is in your path. (on Win32
   					'exult_studio.exe' needs to be in the same directory as exult.exe)</li>
				<li>On U*ix platforms you need to be running <em>Exult</em> on X.</li>
   				<li>Run <em>Exult</em> in windowed mode (not fullscreen).</li>
   				<li>Press 'alt-ctrl-m' to go into 'map-editor' mode.  If all is set
					up correctly, exult_studio will start up, and will have a list of files
					on the left side of its window (you need to have cheats enabled in <em>Exult</em>,
					see the <a href="&#10;				ReadMe.html#&#10;			gameplay_gump">ReadMe</a>).</li>
				</ul>
				<p>
					Starting up one or the other separately will reconnect them:
				</p>
				<ul>
    			<li>If <em>Exult</em> isn't running, start it up.  Then, in <em>Exult Studio</em>,
					use the 'File' menu to choose the static directory (for the game you're
					playing).</li>
   				<li>If <em>Exult Studio</em> isn't running start it up with:
        			exult_studio -x (path to dir containing exult_studio.glade) -d
        			(path to game directory)</li>
				</ul>
				<p>
					You can also reconnect by selecting File-Connect in <em>Exult Studio</em>'s
					menus.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="studio_cfg">2.3. Settings in exult.cfg.</a></strong></td></tr><tr><td>
				<p>
					You can change the settings of <em>Exult Studio</em> either with the prefernces dialog or 
					via exult.cfg. Those settings are:
				</p>
				<table cellspacing="0" cellpadding="0" border="0"><tr><td colspan="2">&lt;config&gt;</td></tr><tr><td colspan="2">&lt;estudio&gt;</td></tr><tr><td colspan="2">&lt;main&gt;</td></tr><tr><td colspan="2">&lt;width&gt;</td></tr><tr><td width="150">640
						</td><td rowspan="2">** width of the program window 
						</td></tr><tr><td colspan="2">&lt;/width&gt;</td></tr><tr><td colspan="2">&lt;height&gt;</td></tr><tr><td width="150">400
						</td><td rowspan="2">** height of the program window
						</td></tr><tr><td colspan="2">&lt;/height&gt;</td></tr><tr><td colspan="2">&lt;/main&gt;</td></tr><tr><td colspan="2">&lt;default_game&gt;</td></tr><tr><td width="150">gamename
						</td><td rowspan="2">** default game to edit (games must be specified in 
						&lt;game&gt; part of exult.cfg)
						</td></tr><tr><td colspan="2">&lt;/default_game&gt;</td></tr><tr><td colspan="2">&lt;image_editor&gt;</td></tr><tr><td width="150">gimp-remote -n
						</td><td rowspan="2">** command that calls the image editor. Only useful on U*ix 
						platforms for now.
						</td></tr><tr><td colspan="2">&lt;/image_editor&gt;</td></tr><tr><td colspan="2">&lt;background_color&gt;</td></tr><tr><td width="150">0
						</td><td rowspan="2">** background color for the shape-chooser. Use the preference 
						dialog of Exult Studio for this.
						</td></tr><tr><td colspan="2">&lt;/background_color&gt;</td></tr><tr><td colspan="2">&lt;/estudio&gt;</td></tr><tr><td colspan="2">&lt;/config&gt;</td></tr></table>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="command_line">2.4. Command line options</a></strong></td></tr><tr><td>
				<p>
					<em>Exult Studio</em> offers some "hidden" command line options:
				</p>
				<ul>
					<li>-gGAMENAME<br />
						specifies GAMENAME and <em>Exult Studio</em> will read the game base directory from exult.cfg.
						GAMENAME can be choosen from the games specified in &lt;game&gt; part of exult.cfg.</li>
					<li>-xDIRECTORY<br />
						tells exult_studio to look in DIRECTORY for its user-interface specification 
						(exult_studio.glade).<br />
  						This option is only useful to developers who want to edit exult_studio.glade 
  						themselves.</li>
				</ul>
			</td></tr></table><hr width="100%" /><table width="100%"><tr><th align="left"><a name="Menu Options">3. Menu Options</a></th></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="file_menu">3.1. File</a></strong></td></tr><tr><td>
				<ul>
					<li><strong>New Game...</strong><br />
						This lets you begin the work on a new game. Jeff wrote an extensive description of
						how to use this and how it works.<br />
						See 
						<a href="http://exult.sourceforge.net/newgame.txt">New Game manual</a>.</li>
					<li><strong>Open Game...</strong><br />
						Choose the Game directory of the game you want to edit.</li>
					<li><strong>Save all</strong>
	'<font color="maroon">Ctrl+S</font>'
<br />
						Saves map, shape infos and groups you edited (see below).</li>
					<li><strong>New...</strong><br />
						<strong>Shapes file...</strong><br />
						Lets you choose the directory where you want to create a new vga file and requires 
						you to enter a name for it (e.g. mygame.vga).<br />
						<strong>Single shape file...</strong><br />
						Lets you choose the directory where you want to create a new shape file and requires 
						you to enter a name for it (e.g. mygame.shp).</li>
					<li><strong>Save...</strong><br />
						<strong>Map</strong><br />
						Saves the map of the edited game.<br />
						<strong>Shape info</strong><br />
						When you right click a shape in a vga file you can change the info of the shape.
						This saves this changed info.<br />
						<strong>Groups</strong><br />
						You can "bundle" shapes of vga files into groups to make world building easier. 
						These groups get saved with this option.</li>
					<li><strong>Reload...</strong><br />
						<strong>Map</strong>
	'<font color="maroon">Ctrl+R</font>'
<br />
						Reloads the map. All changes made since the last save get discarded.<br />
						<strong>Usecode</strong><br />
						Very useful when you edit the usecode of a game or add new usecode to an 
						existing game. Normally this would require a restart of Exult.</li>
					<li><strong>Connect</strong><br />
						Connects <em>Exult</em> and <em>Exult Studio</em> if one of them had to be restarted.</li>
					<li><strong>Preferences</strong><br />
						<strong>Image Editor Command:</strong><br />
						This executes the chosen image editor when you want to edit a shape when you
						right click it.<br />
						<strong>Image-Edit Filetype:</strong><br />
						Choose which filetype gets executed with the above cosen image editor.<br />
						<strong>Default Game Name:</strong><br />
						Choose the game <em>Exult Studio</em> opens by default. Use the name specified in exult.cfg.<br />
						<strong>Shape List Background:</strong><br />
						Sometimes the default black background may make certain shapes hard to see. Choose 
						a different background colour here.</li>
					<li><strong>Exit</strong>
	'<font color="maroon">Ctrl+Q</font>'
<br />
						Exits <em>Exult Studio</em>.</li>
				</ul>
				<p>
					Note that the default location for saving and creation of new files is the STATIC directory
					of a game if there is no PATCH directory specified. See <a href="#can_do_atm">5.1. What you can do at the moment</a>.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="objects_menu">3.2. Objects</a></strong></td></tr><tr><td>
				<ul>
					<li><strong>Egg...</strong><br />
					Create or edit eggs with this.
					See <a href="#egg_edit">5.3. Creating/editing Eggs</a> for more information (not yet there).</li>
					<li><strong>NPC...</strong><br />
					Create or edit NPCs with this.
					See <a href="#npc_edit">5.4. Creating/editing NPCs</a> for more information (not yet there).</li>
				</ul>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="mode_menu">3.3. Mode</a></strong></td></tr><tr><td>
				<p>
				It describes how the mouse behaves inside Exult when map-editing.
				</p>
				<ul>
					<li><strong>Move</strong><br />
					This is the normal mode where you can drag things with the mouse, or single-click to 
					identify objects.</li>
					<li><strong>Paint</strong><br />
					a single-left-click inserts the last-selected shape from 'shapes.vga', and dragging 
					with the left-button inserts that shape in every tile (so you'd probably only want 
					to do this with 8x8 flat shapes).  Also, in 'Paint' mode, the footprint at ground 
					level is shown (though this may be changed in the future).<br />
					If you hold the alt key down, random frames from the currently-selected shape will 
					be painted (handy for grassy areas).</li>
					<li><strong>Pick for Combo</strong><br />
					Picks objects for a new combo file. Double-left-click to add objects to the combo, 
					single-left-click to identify object. See <a href="#combo_edit">5.5. Creating Combination files</a></li>
					<li><strong>Select</strong><br />
					In this mode you can select objects and move the selection Ctrl-arrow (x,y coordinates)
					and ctrl-page keys (z coordinates).</li>
					<li><strong>Hide</strong><br />
					not yet implemented (?)</li>
					<li><strong>Unhide</strong><br />
					not yet implemented (?)</li>
				</ul>
				<p>
					Note that you can only drag objects in the game window when you are in "Move" mode.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="tools_menu">3.4. Tools</a></strong></td></tr><tr><td>
				<ul>
					<li><strong>Locator...</strong>
	'<font color="maroon">Ctrl+L</font>'
<br />
					shows where the current game window is within the entire map, and lets you move 
					the view by double-clicking a location or by dragging the little box</li>
					<li><strong>New Combo</strong><br />
					Creates a new Combo file. See <a href="#combo_edit">5.5. Creating Combination files</a>.</li>
				</ul>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="tool_bar">3.5. Tool bar</a></strong></td></tr><tr><td>
				<ul>
					<li><strong>Play</strong><br />
					This is the same as pressing 
	'<font color="maroon">Alt+Ctrl+M</font>'
 in Exult. It exits the Map Edit Mode
					and lets you play the game. By pressing it again you enter Map Edit Mode again.</li>
					<li><strong>Tile Grid</strong><br />
					Shows a grid in the game window for better control on placing objects.</li>
					<li><strong>Edit lift:</strong><br />
					Changes the lift of a selected object in the game window. Lift means the distance of
					an object from the ground.</li>
					<li><strong>Hide lift:</strong><br />
					Hides objects that are above the choosen height.</li>
					<li><strong>Edit terrain</strong><br />
					See <a href="#can_do_atm">5.1. What you can do at the moment</a>. Note that a terrain is used in multiple instances of the 
					map and changing it in one place changes it in all the others as well.</li>
				</ul>
			</td></tr></table><hr width="100%" /><table width="100%"><tr><th align="left"><a name="Main Working Window">4. Main Working Window</a></th></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="description">4.1. Description</a></strong></td></tr><tr><td>
				<p>
					Once <em>Exult Studio</em> runs correctly , a tree of game files is displayed to the left of 
					the main window, while the currently selected file is viewed in detail to the right. 
					At the moment, the following types of files are supported.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="shape_files">4.2. Shape files</a></strong></td></tr><tr><td>
				<p>
					Shapes are the basic graphical elements of the game. Each shape has one or more 
					frames that typically represent different states or angles of the same thing. 
					E.g. a button shape could have frames for pressed, and released; a character 
					could have frames depicting her sitting, standing up facing one way, or another, 
					swinging a punch, etc.<br /> 
					When a shape file is selected, the right part of the main window will show frame 
					zero of the shapes contained therein. Shapes can be selected by clicking, which 
					will show there number, number of frames, and name if known. Other frames can be 
					viewed by changing the frame number.
				</p>
				<p>
					When the selected file contains shapes that have names in their info you can also use
					the find option to find shapes that have that name (e.g. in shapes.vga you can search 
					for 'door' to find all shapes that have door frames). You can search down or up in the
					selected file.
				</p>
				<p>
					Shape files also have a special right-click-menu. See <a href="#shape_edit">5.2. The shape editor</a>.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="map_files">4.3. Map files</a></strong></td></tr><tr><td>
				<p>
					These files contain so called chunks that serve as templates in the final map. 
					The chunks of the selected map file are shown in the right part of the main window.<br />
					When a chunk is selected you have some options:
				</p>
				<ul>
					<li><strong>Locate</strong><br />
						shows places in the <em>Exult</em> game where that chunk is used.</li>
					<li><strong>Insert</strong><br />
						<strong>New</strong><br />
						Creates a new chunk. Drag the new chunk onto the game and edit it by dragging 
						shapes on it.<br />
						<strong>Dupe</strong><br />
						Duplicates a chunk. Drag the duplicate chunk onto the map to edit it.</li>
					<li><strong>Move</strong><br />
						Moves a chunk in the chunk file. This does not effect the display on the map.</li>
				</ul>	 
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="palettes_files">4.4. Palettes files</a></strong></td></tr><tr><td>
				<p>
					The palettes used by a game are stored in the files listed there.<br />
					When you select a palette with number zero is shown in the right part of the main 
					window. Other palettes are shown by selecting another palettes number  
					When a palettes file is selected you have some options:
				</p>
				<ul>
					<li><strong>Edit</strong><br />
						New/Remove adds or deletes a palettes.</li>
					<li><strong>Move</strong><br />
						Moves palettes in the file.</li>
					<li><strong>File</strong><br />
						<strong>Import</strong><br />
						Overwrites the current palettes with palette text file.<br />
						<strong>Export</strong><br />
						Exports the current palette to a text file.</li>
				</ul>	 
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="groups_files">4.5. Groups files</a></strong></td></tr><tr><td>
				<p>
					Editing a game can become quite cumbersome when you have to choose between a lot
					of shape files containing several frames. To make this task easier we have 
					implemented so called groups to groups several shapes together. For example you can 
					group all shapes containing door frames together in a group called 'doors'.<br />
					For this you have to select Groups and create a new group by writing the name in the 
					lower part of the window and then click 'add'. You now have the option in the Shape 
					Menu to add a shape to this group.<br />
					When you doubleclick a group the group window opens that shows the shapes in the group 
					and by selecting a shape you see the shape info.
					You also have some options to edit the group:
				</p>
				<ul>
					<li><strong>Move</strong><br />
						Moves the shapes within the group.</li>
					<li><strong>Remove</strong><br />
						Removes the shape from the group.</li>
					<li><strong>Name</strong><br />						
						Changes the name of the group.</li>
					<li><strong>Frame:</strong><br />						
						select the frame displayed.</li>
					<li><strong>Frames</strong><br />						
						shows all the frames of a shape next to each others.</li>
					<li><strong>Find</strong><br />						
						Lets you search for a specified shape in the group.</li>	
				</ul>	 
			</td></tr></table><hr width="100%" /><table width="100%"><tr><th align="left"><a name="Editing a Game">5. Editing a Game</a></th></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="can_do_atm">5.1. What you can do at the moment</a></strong></td></tr><tr><td>
				<p>
					With the latest source you can
				</p>
					<ul>
						<li>browse shapes in the main window.</li>
   						<li>drag a shape from the shape browser to <em>Exult</em>, and that
							object will be placed in the game.</li>
   						<li>edit an 'egg' by double-clicking on it.  An edit box
							should appear.</li>
   						<li>create a new 'egg' using the pull-down menu in <em>Exult Studio</em>.
							In the Egg edit box, after you hit 'Apply', you'll be prompted to
							click in <em>Exult</em> where you want the egg to appear.</li>
   						<li>If editing a 'monster' egg, you can set the monster by dragging
							the shape from the browser to the area that displays the monster.</li>
						<li>edit an NPC by double-clicking on it, and also create a new
							NPC using the pull-down menu.  Attributes, flags, and schedules can
							all be viewed and modified.</li>
						<li>can edit other objects' position and quality by double-clicking on them.</li>
						<li>browse the 'u7chunks' file, and drag them into <em>Exult</em> to change
							the terrain.  In this browser, you can also create new terrains and
							modify their order.</li>
						<li>edit a 'terrain' (stored in 'u7chunks') by clicking the "Edit
							terrain" checkbox in <em>Exult Studio</em>.  This is a special mode where
							dragging with the left mouse button 'paints' the currently-selected
							shape (generally one of the flat tiles near the top of the shapes
							browser).  Note that a 'terrain' is generally used in multiple places
							in the mapand changing it in one place changes it in all the others as well.</li>
						<li>save the map using ExultStudio's "File-Save map" pulldown.
							In order to avoid writing over files inadvertantly, the files that
							would normally go into the 'static' directory, will, instead, go into
							a 'patch' directory that you specify in your 'exult.cfg' file.  Here's
							an example for editing BG:</li>
					</ul>
				<table cellspacing="0" cellpadding="0" border="0"><tr><td colspan="2">&lt;game&gt;</td></tr><tr><td colspan="2">&lt;blackgate&gt;</td></tr><tr><td colspan="2">&lt;path&gt;</td></tr><tr><td colspan="2">blackgate</td></tr><tr><td colspan="2">&lt;/path&gt;</td></tr><tr><td colspan="2">&lt;patch&gt;</td></tr><tr><td colspan="2">blackgate/patch</td></tr><tr><td colspan="2">&lt;/patch&gt;</td></tr><tr><td colspan="2">&lt;title&gt;</td></tr><tr><td colspan="2">blackgate</td></tr><tr><td colspan="2">&lt;/title&gt;</td></tr><tr><td colspan="2">.</td></tr><tr><td colspan="2">&lt;/blackgate&gt;</td></tr></table>
				<p>
					<em>Exult</em> will also read files from 'patch' if it exists on starting a new game.
				</p>
				<p>
					In any mode, you can add the currently selected shape by shift-clicking..
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="shape_edit">5.2. The shape editor</a></strong></td></tr><tr><td>
				<p>
					When you right click on a shape in the Shape browser (e.g. Files-Shapes.vga) you 
					get some options of how to edit the shapes.
				</p>
				<ul>
					<li><strong>Info...</strong><br />
						Displays the information of an object. You can change a lot of stuff there and 
						caution is adviced. The information is saved by 
						<a href="#file_menu">3.1. File</a>.</li>
					<li><strong>Add to group...</strong><br />
						If you set up groups you can add shapes to them with this.</li>
					<li><strong>Edit...</strong>:<br />
						Brings up your image-editor on the chosen frame.  When you save 
						in the image-editor, ES will read the changes back within 5 seconds.  This is 
						especially convenient if you have 'gimp-remote', as it will open a window for 
						the frame in an already-running gimp.</li>
					<li><strong>Edit tiled</strong>:<br />
						This is only for 'flat' (8x8) shapes.  It forms an image 
						from all the frames and brings it up in the image-editor.  This is really 
						handy for making lots of terrain frames like grass.  A dialog lets you choose 
						the dimensions.</li>
					<li><strong>New frame</strong>:<br />
						Creates a new frame after the currently-selected one.  The 'insert' key 
						also does this (and the 'del' key deletes a frame, though it's 
						buggy if there's just one frame left).</li>
					<li><strong>New shape</strong>:<br />
						Gives you a dialog for choosing the shape #, as well as the 
						initial # of frames.<br />
						You can also create a new font shape from TrueType or Type1 font files.
						It's mainly a convenience for someone creating a whole new game, as their
						only single-colored.  Maybe in the future we'll have some functions to
						create two-colored fonts like the main one in U7, although it might take
						hand-editing to make the letters look that nice.</li>
					<li><strong>Import/Export frame</strong>:<br />
						Let's you import a single frame from a .png file or 
						export to a .png.</li>
				</ul>
				<p>
					<b><i><font size="+1">Note:</font></i></b><strong>Edit...</strong> doesn't work on Windows system. It stores 
					the shape as PNG file in GAMEDIR/itmp/ (e.g. blackgate/itmp). If you manually
					open the file with an image editor of your liking and then save it, ES doesn't 
					read the changes back.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="egg_edit">5.3. Creating/editing Eggs</a></strong></td></tr><tr><td>
				<p>
					sorry, not documented yet (very extensive work). But make sure you resize the egg-window 
					to show all the possible eggs. To know what 'egg' means, see 
					<a href="&#10;				ReadMe.html#&#10;			terms">ReadMe</a>.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="npc_edit">5.4. Creating/editing NPCs</a></strong></td></tr><tr><td>
				<p>
					sorry, not documented yet (very extensive work).
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="combo_edit">5.5. Creating Combination files</a></strong></td></tr><tr><td>
				<p>
					Create 'combination shapes', like a fence or an entire roof by selecting 
					"Tools-New Combo" (see <a href="#tools_menu">3.4.</a>). When you run <em>Exult Studio</em> the first
					time a file called combos.flx gets automatically created in the "Patch" directory.
					Choose the 'Pick for Combo' choice in the 'Modes' menu, and an empty window should 
					pop up. In the game window, double-click a group of objects, and they should appear 
					in the window. You can then select an object there and tweak its position. When you 
					are done hit aply and the combo gets temporally saved until you hit "Save all" or 
					"Save - Save map".<br />
					You can drag and drop combinations into the game window.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="usecode_edit">5.6. Custom Usecode</a></strong></td></tr><tr><td>
				<p>
					As hinted at (see <a href="&#10;				ReadMe.html#&#10;			terms">ReadMe</a>) Usecode is actually what runs Ultima 7
					and therefore any game created with <em>Exult Studio</em>.<br />
					As of yet we do not have a Usecode editor/debugger. So writing your own Usecode is not 
					that easy.
				</p>
				<p>
					For an example of how Usecode may look like download our experimental patch for BG at
					<a href="http://exult.sourceforge.net/snapshots/patch.zip">http://exult.sourceforge.net/snapshots/patch.zip</a>.<br />
					In that zip you'll find a readme.txt which tells you how to run it.<br />
					You will also see two files called usecode.uc and usecode.
				</p>
				<p>
					Usecode.uc is the usecode script that will help you understand our usecode language.<br />
					When you run ucc (see <a href="#tools">6.1.</a>) with that file 
					(e.g. "ucc -o usecode usecode.uc") you will get the file called usecode. This file 
					'usecode' should be the same as the one in the zip file.
				</p>
				<p>
					Someone does have to write extensive documentation for this but I (Dominus) am not
					really up for that task.<br />
					Pertex has written some documentation at <a href="http://www.sophen.de/exult/">http://www.sophen.de/exult/</a>
					that might be able help you.
				</p>
			</td></tr></table><hr width="100%" /><table width="100%"><tr><th align="left"><a name="Miscellaneous">6. Miscellaneous</a></th></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="tools">6.1. Other tools that might be useful</a></strong></td></tr><tr><td>
				<p>
					In the process of creating <em>Exult</em> the team came up with some useful 
					tools that might help in editing/making a game.<br />
					These can be built from the <em>Exult</em> source or you can download
					the Windows binary snapshot. The source and binary snapshot can be found at
					<a href="http://exult.sourceforge.net/download.php">http://exult.sourceforge.net/download.php</a>.<br />
					The tools are:
				</p>
				<ul>
					<li><strong>expack</strong>:<br />
						lets you extract and create Flex files. 
						See <a href="http://exult.sourceforge.net/expack.txt">manual</a>.</li>
					<li><strong>ipack</strong>:<br />
						a tool for creating and updating Exult and U7 image archives,  such as 'shapes.vga'. 
						See <a href="http://exult.sourceforge.net/ipack.txt">manual</a>.</li>
					<li><strong>shp2pcx</strong>:<br />
						converts all frames contained in a Shape file into PCX-format image files. 
						See <a href="http://exult.sourceforge.net/shp2pcx.txt">manual</a>.</li>
					<li><strong>splitshp</strong>:<br />
						can be used to combine frames of a Shape file into one file, or split a Shape 
						file into its component frames. 
						See <a href="http://exult.sourceforge.net/splitshp.txt">manual</a>.</li>
					<li><strong>textpack</strong>:<br />
						can be used edit text flex files. 
						See <a href="http://exult.sourceforge.net/textpack.txt">manual</a>.</li>
					<li><strong>ucc</strong>:<br />
						can be used to create custom usecode (see <a href="#usecode_edit">5.6.</a>).</li>
					<li><strong>The GIMP Plug-in</strong>:<br />
						can be used for editing shapes in the GIMP. Handles multiframe Shape files. 
						See <a href="http://www.gimp.org">http://www.gimp.org</a> for inormation on the GIMP.</li>
					<li><strong>Photoshop Plug-in</strong>:<br />
						can be used for editing shapes in Photoshop. Can't handle multiframe Shape files. And 
						also can't handle indexed images with Alpha correctly.</li>
				</ul>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="port_platforms">6.2. Porting <em>Exult Studio</em> to other platforms</a></strong></td></tr><tr><td>
				<p>
					Currently <em>Exult Studio</em> runs on U*ix and Windows platforms. First it only
					ran on U*ix but with some effort by Colourless, Kirben and Mark Siewert
					it was succesfully ported to Win32.
				</p>
				<p>
					A port to other platforms depends on when someone volunteers to do the work :-)
					There are three issues:
				</p>
				<ul>
   				<li>GTK has to be ported to the platform.</li>
   				<li><em>Exult Studio</em> uses sockets to communicate with <em>Exult</em>.</li>
   				<li>X drag-n-drop is used to put new objects on the landscape.  The
					'drop' part of this had to be rewritten for Win32 <em>Exult</em>, OR,
					drag-n-drop could be an enhancement to SDL someday.<br />
					As an alternative to dragging objects, you can now select a shape,
					then insert it into the game window by left-clicking while holding the
					Shift key down.</li>
				</ul>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="client_server_stuff">6.3. About this client/server stuff?</a></strong></td></tr><tr><td>
				<p>
					A map-editor needs to provide the ability to display the game, place
					objects on the map, and move objects around.  That functionality is already in
					<em>Exult</em>, and it makes sense to reuse it.  So we could have made <em>Exult</em> a part of
					<em>Exult Studio</em>.  However, <em>Exult</em> is already a huge program, and is getting
					unwieldy to work on.
				</p>
				<p>
					With this architecture, <em>Exult Studio</em> can have all the messy code for
					displaying/editing dialog boxes, while <em>Exult</em> only needs a little bit
					of work to handle requests.
				</p>
				<p>
					Also, I (Jeff) wanted to get a little experience programming with
					sockets:-)
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="terrain_stuff">6.4. About this 'terrain-editing' stuff and why you can't just
  					drag objects to where you want.</a></strong></td></tr><tr><td>
				<p>
					This confused me too, and I originally planned on doing away with it.
					But do a little arithmetic:  U7's world has 3072x3072 tiles; that's
					over 9 million that need to be set.  My guess is that they came up
					with the idea behind 'u7chunks' to save artists time and to give the
					map a consistent look.
				</p>
				<p>
					The basic idea is that each 'chunk' of flat terrain, 16x16 tiles, is
					stored in 'u7chunks', and is indexed by its position in this file (0,
					1, 2, ...). The 'u7map' file specifies, for each 'chunk' in the U7
					map, which of the terrains is to be used.  Since the entire map has
					192x192 chunks, or a total of 36,864, and since 'u7chunks' has 3072
					entries, each terrain is shared an average of over 10 times.  When you
					go into map-editing mode in Exult, the numbers displayed are the
					indices from 'u7chunks'.
				</p>
				<p>
					So here are the three sorts of scenery that you can see and edit:
				</p>
				<ol>
					<li>The 'terrain' (flat landscape, rocks, shrubs, and first-story
    					buildings) specified in 'u7chunks' and 'u7map'.</li>
    				<li>Other non-moveable objects (second-floor structures, trees) specified in
    					the 'ifixnn' files.</li>
    				<li>Moveable and changeable objects specified in the 'iregnn' files.</li>
				</ol>
				<p>
					The challenge of writing a map-editor is keeping the above straight,
					and reading/storing from/to the correct files.  It's sorta-kinda
					working now :-)
				</p>
				<p>
					For a more detailed explanation, see Gary Thompson's paper,
					'u7edit.txt' in our 'docs' directory.
				</p>
			</td></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="what_next">6.5. What's next?</a></strong></td></tr><tr><td>
				<p>
					The next things to be implemented are:
				</p>
				<ul>
				<li><em>Exult Studio</em>needs to be able to automatically create palettes 1-n from palette 0 
					using the code from ipack. </li>
				<li>It will also be very nice to have a Usecode debugger someday as well 
					(Willem is actually working on it).</li>
   				<li>A 'flags' editor for viewing and editing the global Usecode flags by name.</li>
				<li>A 'barge' editor for creating things like ships and carts.</li>
				</ul>
			</td></tr></table><hr width="100%" /><table width="100%"><tr><th align="left"><a name="Credits">7. Credits</a></th></tr><tr><td>&nbsp;</td></tr><tr><td><strong><a name="thanks">7.1. Thanks</a></strong></td></tr><tr><td>
				<ul>
					<li>Colourless, Kirben and Mark Siewart invested a lot of effort to port
					<em>Exult Studio</em> to Win32.</li>
				</ul>
			</td></tr></table></td></tr><tr><td><br /><hr /></td></tr><tr><td><table width="100%" cellspacing="0" cellpadding="0" border="0"><tr><td align="center">&nbsp;</td></tr><tr><td align="center">&nbsp;</td></tr><tr><td align="center"><address><font size="-1">Problems with Exult or this webpage? <a href="mailto:exult-general@lists.sourceforge.net">Contact us.</a></font></address></td></tr></table></td></tr><tr><td align="center"><address><font size="-1">Last modified: 19 May 2002(GMT)</font></address></td></tr><tr><td align="center"><div align="center"><!--#exec cgi="cgi-bin/vipcounter_xml.pl"--></div></td></tr></table></div></body></html>